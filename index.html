<html>
 <head>
 </head>
 <body>

  <div>
   
   <!--

   
    <form action="#" id="callbackForm" class="contact-form">
        <div class="form-group">
            <input type="email" required id="email" class="form-control" placeholder="Your email" autocomplete="email" name="email" />
        </div>
        <div class="form-group">
            <input required id="name" type="text" class="form-control" placeholder="Your name" name="name" maxlength="100" />
        </div>
        <div class="form-group">
            <textarea required id="message" form="callbackForm" class="form-control" placeholder="Your message" style="height:200px" name="message" maxlength="3000"></textarea>
        </div>
        <button type="submit" id="sendMessageButton" class="btn btn-primary btn-block">
            Submit
        </button>
    </form>
-->
   <form>
  <label for="name">Name:</label>
  <input name="name" type="text"/><br/><br/>
  <label for="email">Email:</label>
  <input name="email" type="email"/><br/><br/>
  <label for="name">Message:</label>
  <textarea name="message"></textarea><br/><br/>
  <input type="submit"/>
  <div>
    <p id="result-text"></p>
  </div>
</form>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
     /*
        $("#callbackForm").submit(function(e) {
            e.preventDefault();
            var replyTo = $("#email");
            var name = $("#name");
            var message = $("#message");
            var data = {
                "replyTo": replyTo.val(),
                "name": name.val(),
                "message": message.val()
            };
            var url = "https://8gsk79kyt7.execute-api.us-east-2.amazonaws.com/prod/sendMail";
            $.ajax({
                url: url,
                type: 'POST',
                crossDomain: true,
                data: JSON.stringify(data),
                dataType: 'json',
                contentType: "application/json",
                success: function(data, status) {
                    alert("data: " + data + "\n Status: " + status);
                }
            });
        });*/
     
     const form = document.querySelector("form");
     form.addEventListener("submit", (event) => {
     // prevent the form submit from refreshing the page
     event.preventDefault();

     const { name, email, message } = event.target;

     // Use your API endpoint URL you copied from the previous step
     const endpoint =
        "<https://8gsk79kyt7.execute-api.us-east-2.amazonaws.com/prod/sendMail>";
     // We use JSON.stringify here so the data can be sent as a string via HTTP
     const body = JSON.stringify({
        name: name.value,
        replyTo: email.value,
        message: message.value
     });
     const requestOptions = {
        method: "POST",
        body
     };

     fetch(endpoint, requestOptions)
        .then((response) => {
          if (!response.ok) throw new Error("Error in fetch");
          return response.json();
        })
        .then((response) => {
          document.getElementById("result-text").innerText =
            "Email sent successfully!";
        })
        .catch((error) => {
          document.getElementById("result-text").innerText =
            "An unkown error occured.";
        });
    });
    </script>
</div>
  
  
 </body>
</html>
